---
title: クライアントの名前付けの責任
manager: soliver
ms.date: 03/09/2015
ms.audience: Developer
localization_priority: Normal
api_type:
- COM
ms.assetid: dbb6ba5f-18c8-426f-9f50-ce6f2fd1dc5b
description: '最終更新日: 2015 年 3 月 9 日'
ms.openlocfilehash: 808c7abf3d29872a8c5095fdc6dc39b2107a8993
ms.sourcegitcommit: 8657170d071f9bcf680aba50b9c07f2a4fb82283
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/28/2019
ms.locfileid: "33424953"
---
# <a name="client-naming-responsibilities"></a>クライアントの名前付けの責任

  
  
**適用対象**: Outlook 2013 | Outlook 2016 
  
クライアントは、ゲートウェイで変換する必要があるプロパティの名前付け規則に従う必要があります。 変換するすべてのプロパティは、マッピング可能なプロパティを保持するように指定された5つのプロパティセットのいずれかで、名前付きプロパティとして作成する必要があります。
  
PS_ROUTING_EMAIL_ADDRESSES
  
PS_ROUTING_ADDRTYPE
  
PS_ROUTING_DISPLAY_NAME
  
PS_ROUTING_ENTRYID
  
PS_ROUTING_SEARCH_KEY
  
同じユーザーに関連するアドレス指定プロパティには、同じ名前を指定する必要があります。 ゲートウェイはこの命名規則に依存しており、アドレスを正しいアドレスの種類と一致させることができます。 アドレスを解析するには、アドレスとアドレスの種類のマッピングが正確である必要があります。
  
MAPI 名前付きプロパティは、 **mapinameid**データ構造で表されます。これは、プロパティ名が Unicode 文字列または32ビット整数であることを指定します。 詳細については、「 [mapinameid](mapinameid.md)」を参照してください。 アドレスをグループ化する場合は、マッピング可能なプロパティのセットを区別するための簡単な方法であるため、整数の名前を付けることをお勧めします。これは、ユーザーのインデックスとして簡単に提供できます。 整数を使用する代わりに、1つの文字列をユーザーのマップ可能プロパティの5つすべての名前として割り当てることができます。 マッピングを必要とするユーザーが1人だけの場合は、文字列を割り当ててもかまいません。 ただし、複数のユーザーがいる場合は、整数型の名前を使用することをお勧めします。 数値または文字列ベースであるかどうかにかかわらず、名前は、メッセージクラス固有のプロパティ、またはクライアントアプリケーションによって定義されているプロパティセットに属するプロパティに格納されている必要があります。 
  
> [!NOTE]
> "route_recipient_1" や "route_recipient_2" などの整数型の名前を文字列に変換しないようにします。 この作業は必要ありません。 
  
この名前付け規則のしくみを説明するために、4人のチームの各メンバーにメッセージを送信するルーティングアプリケーションについて考えてみます。 あるメンバーがメッセージを受信すると、コンパイルされた応答と共に次のメンバーに送信できるようになる前に、そのメンバーが応答する必要があります。 元のメッセージには、1つのエントリ (チームの最初のメンバー) を持つ受信者リストが含まれています。 メッセージ内に埋め込まれるのは、他の3つのチームメンバーのゲートウェイマッピングされたプロパティです。 各メンバーには、ゲートウェイマップ可能なプロパティセットに存在する5つのコアユーザープロパティがあります。これには名前として一意の番号が割り当てられます。 
  
次の表に、最初のチームメンバーが終了したときにメッセージをルーティングする、残りの3つのチームメンバーに対して格納されているゲートウェイマップ可能プロパティの各セットの設定を示します。
  
|**Property Set**|**2番<br/>目のチームメンバー**|**3番<br/>目のチームメンバー**|**4番<br/>目のチームメンバー**|
|:-----|:-----|:-----|:-----|
|PS_ROUTING_EMAIL_ADDRESSES  <br/> |アドレス = 0  <br/> |アドレス = 1  <br/> |アドレス = 2  <br/> |
|PS_ROUTING_ADDRTYPE  <br/> |アドレスの種類 = 0  <br/> |アドレスの種類 = 1  <br/> |アドレスの種類 = 2  <br/> |
|PS_ROUTING_DISPLAY_NAME  <br/> |表示名 = 0  <br/> |表示名 = 1  <br/> |表示名 = 2  <br/> |
|PS_ROUTING_ENTRYID  <br/> |エントリ識別子 = 0  <br/> |エントリ識別子 = 1  <br/> |エントリ識別子 = 2  <br/> |
|PS_ROUTING_SEARCH_KEY  <br/> |検索キー = 0  <br/> |検索キー = 1  <br/> |検索キー = 2  <br/> |
   
マップされた検索キーを他のメッセージプロパティへの参照として使用するクライアントは、これらのマッピング可能なプロパティセットのいずれかに配置されていない限り、他のメッセージプロパティは変換されないことを認識する必要があります。 マップされた検索キーへの参照がマップされていないメッセージが別のメッセージングドメインの宛先に送信されると、その参照は無効になります。 これらの他のプロパティを検索キーと引き続き同期できるようにするには、PS_ROUTING_SEARCH_KEY プロパティセット内の、コアマッピング可能ないずれかのプロパティに指定された名前とは競合しない文字列名を割り当てることができます。 たとえば、長いルーティングリストの最後のユーザーの検索キーを含むプロパティをクライアントが送信する必要があるとします。 クライアントは、"last_search_key" と呼ばれる PS_ROUTING_SEARCH_KEY プロパティセットに名前付きプロパティを作成できます。 このプロパティは、マップ可能なプロパティセットに格納されているため、"last_search_key" プロパティは、ゲートウェイマッピングが可能な他のプロパティと共に変換されます。
  

